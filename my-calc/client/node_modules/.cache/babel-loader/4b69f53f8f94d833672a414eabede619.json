{"ast":null,"code":"import { acNumOperation, delplyNumOperation, evalNumOperation, minusplyNumOperation, multiplyNumOperation, plusminNumOperation, plusNumOperation, pointNumOperation, persentNumOperation, deleteHistory, showRenewHistory } from '../actions/actions';\nimport Fetch from '../scripts/dataFetch';\nimport deleteRequest from '../scripts/deleteHistory';\nimport OperationSign from '../scripts/PutAway';\nimport updateHistory from '../scripts/updateHistory';\nimport returnObjectPropertyTypeValue from '../scripts/valuesNumOperation';\nconst initialState = {\n  updateNedeed: false,\n  addHistory: [],\n  history: [],\n  counter: ''\n};\n\nconst numReducer = (state = initialState, action) => {\n  const operationSign = new OperationSign();\n\n  switch (action.type) {\n    case returnObjectPropertyTypeValue(action.type)().type:\n      return { ...state,\n        addHistory: [],\n        counter: `${state.counter}${returnObjectPropertyTypeValue(action.type)().value}`\n      };\n\n    case plusNumOperation:\n      return { ...state,\n        addHistory: [],\n        counter: `${operationSign.putAway(state.counter)}+`\n      };\n\n    case acNumOperation:\n      console.log(updateHistory(state.history, action.expression, action.result));\n      return { ...state,\n        addHistory: [],\n        counter: ''\n      };\n\n    case multiplyNumOperation:\n      return { ...state,\n        addHistory: [],\n        counter: `${operationSign.putAway(state.counter)}*`\n      };\n\n    case minusplyNumOperation:\n      return { ...state,\n        addHistory: [],\n        counter: `${operationSign.putAway(state.counter)}-`\n      };\n\n    case delplyNumOperation:\n      return { ...state,\n        addHistory: [],\n        counter: `${operationSign.putAway(state.counter)}/`\n      };\n\n    case pointNumOperation:\n      return { ...state,\n        addHistory: [],\n        counter: `${operationSign.putAway(state.counter)}.`\n      };\n\n    case persentNumOperation:\n      return { ...state,\n        addHistory: [],\n        counter: `${operationSign.putAway(state.counter)}%`\n      };\n\n    case plusminNumOperation:\n      if (state.counter[state.counter.length - 1] === '+') {\n        return { ...state,\n          addHistory: [],\n          counter: `${state.counter.slice(0, state.counter.length - 1)}-`\n        };\n      }\n\n      if (state.counter[state.counter.length - 1] === '-') {\n        return { ...state,\n          addHistory: [],\n          counter: `${state.counter.slice(0, state.counter.length - 1)}+`\n        };\n      }\n\n      break;\n\n    case evalNumOperation:\n      Fetch('/', 'POST', state.counter, operationSign.putFirst(operationSign.endValue(state.counter)));\n      return { ...state,\n        updateNedeed: true,\n        counter: operationSign.putFirst(operationSign.endValue(state.counter))\n      };\n\n    case deleteHistory:\n      deleteRequest(action.expression, action.result);\n      return { ...state,\n        updateNedeed: true,\n        history: updateHistory(state.history, action.expression, action.result)\n      };\n\n    case showRenewHistory:\n      return { ...state,\n        updateNedeed: false,\n        history: action.data\n      };\n\n    default:\n      return state;\n  }\n\n  return undefined;\n};\n\nexport default numReducer;","map":{"version":3,"sources":["D:/github/my-calc/client/src/redux/numReducer.js"],"names":["acNumOperation","delplyNumOperation","evalNumOperation","minusplyNumOperation","multiplyNumOperation","plusminNumOperation","plusNumOperation","pointNumOperation","persentNumOperation","deleteHistory","showRenewHistory","Fetch","deleteRequest","OperationSign","updateHistory","returnObjectPropertyTypeValue","initialState","updateNedeed","addHistory","history","counter","numReducer","state","action","operationSign","type","value","putAway","console","log","expression","result","length","slice","putFirst","endValue","data","undefined"],"mappings":"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","sourcesContent":["import {\n  acNumOperation,\n  delplyNumOperation,\n  evalNumOperation,\n  minusplyNumOperation,\n  multiplyNumOperation,\n  plusminNumOperation,\n  plusNumOperation,\n  pointNumOperation,\n  persentNumOperation,\n  deleteHistory,\n  showRenewHistory,\n} from '../actions/actions'\nimport Fetch from '../scripts/dataFetch'\nimport deleteRequest from '../scripts/deleteHistory'\nimport OperationSign from '../scripts/PutAway'\nimport updateHistory from '../scripts/updateHistory'\nimport returnObjectPropertyTypeValue from '../scripts/valuesNumOperation'\n\nconst initialState = {\n  updateNedeed: false,\n  addHistory: [],\n  history: [],\n  counter: '',\n}\n\nconst numReducer = (state = initialState, action) => {\n  const operationSign = new OperationSign()\n  switch (action.type) {\n    case returnObjectPropertyTypeValue(action.type)().type:\n      return {\n        ...state,\n        addHistory: [],\n        counter: `${state.counter}${returnObjectPropertyTypeValue(action.type)().value}`,\n      }\n    case plusNumOperation:\n      return {\n        ...state,\n        addHistory: [],\n        counter: `${operationSign.putAway(state.counter)}+`,\n      }\n    case acNumOperation:\n      console.log(updateHistory(state.history, action.expression, action.result))\n      return {\n        ...state,\n        addHistory: [],\n        counter: '',\n      }\n    case multiplyNumOperation:\n      return {\n        ...state,\n        addHistory: [],\n        counter: `${operationSign.putAway(state.counter)}*`,\n      }\n    case minusplyNumOperation:\n      return {\n        ...state,\n        addHistory: [],\n        counter: `${operationSign.putAway(state.counter)}-`,\n      }\n    case delplyNumOperation:\n      return {\n        ...state,\n        addHistory: [],\n        counter: `${operationSign.putAway(state.counter)}/`,\n      }\n    case pointNumOperation:\n      return {\n        ...state,\n        addHistory: [],\n        counter: `${operationSign.putAway(state.counter)}.`,\n      }\n    case persentNumOperation:\n      return {\n        ...state,\n        addHistory: [],\n        counter: `${operationSign.putAway(state.counter)}%`,\n      }\n    case plusminNumOperation:\n      if (state.counter[state.counter.length - 1] === '+') {\n        return {\n          ...state,\n          addHistory: [],\n          counter: `${state.counter.slice(0, state.counter.length - 1)}-`,\n        }\n      } if (state.counter[state.counter.length - 1] === '-') {\n        return {\n          ...state,\n          addHistory: [],\n          counter: `${state.counter.slice(0, state.counter.length - 1)}+`,\n        }\n      }\n      break\n    case evalNumOperation:\n      Fetch('/', 'POST', state.counter, operationSign.putFirst(operationSign.endValue(state.counter)))\n      return {\n        ...state,\n        updateNedeed: true,\n        counter: operationSign.putFirst(operationSign.endValue(state.counter)),\n      }\n    case deleteHistory:\n      deleteRequest(action.expression, action.result)\n      return {\n        ...state,\n        updateNedeed: true,\n        history: updateHistory(state.history, action.expression, action.result),\n      }\n    case showRenewHistory:\n      return {\n        ...state,\n        updateNedeed: false,\n        history: action.data,\n      }\n    default:\n      return state\n  }\n  return undefined\n}\n\nexport default numReducer\n"]},"metadata":{},"sourceType":"module"}