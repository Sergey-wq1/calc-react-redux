{"ast":null,"code":"import { acNumOperation, delplyNumOperation, evlaNumOperation, minusplyNumOperation, multiplyNumOperation, plusminNumOperation, plusNumOperation, pointNumOperation, procentNumOperation } from '../actions/actions';\nimport Fetch from '../scripts/dataFetch';\nimport GetRequest from '../scripts/GetRequest';\nimport OperationSign from '../scripts/PutAway';\nimport retObjType from '../scripts/valuesNumOperation';\nconst initialState = {\n  addHistory: [],\n  history: [],\n  counter: ''\n};\n\nconst numReducer = (state = initialState, action) => {\n  const operationSign = new OperationSign();\n\n  switch (action.type) {\n    case retObjType(action.type)().type:\n      return { ...state,\n        addHistory: [],\n        counter: `${state.counter}${retObjType(action.type)().value}`\n      };\n\n    case plusNumOperation:\n      return { ...state,\n        addHistory: [],\n        counter: `${operationSign.putAway(state.counter)}+`\n      };\n\n    case acNumOperation:\n      return { ...state,\n        addHistory: [],\n        counter: ''\n      };\n\n    case multiplyNumOperation:\n      return { ...state,\n        addHistory: [],\n        counter: `${operationSign.putAway(state.counter)}*`\n      };\n\n    case minusplyNumOperation:\n      return { ...state,\n        addHistory: [],\n        counter: `${operationSign.putAway(state.counter)}-`\n      };\n\n    case delplyNumOperation:\n      return { ...state,\n        addHistory: [],\n        counter: `${operationSign.putAway(state.counter)}/`\n      };\n\n    case pointNumOperation:\n      return { ...state,\n        addHistory: [],\n        counter: `${operationSign.putAway(state.counter)}.`\n      };\n\n    case procentNumOperation:\n      return { ...state,\n        addHistory: [],\n        counter: `${operationSign.putAway(state.counter)}%`\n      };\n\n    case plusminNumOperation:\n      if (state.counter[state.counter.length - 1] === '+') {\n        return { ...state,\n          addHistory: [],\n          counter: `${state.counter.slice(0, state.counter.length - 1)}-`\n        };\n      }\n\n      if (state.counter[state.counter.length - 1] === '-') {\n        return { ...state,\n          addHistory: [],\n          counter: `${state.counter.slice(0, state.counter.length - 1)}+`\n        };\n      }\n\n      break;\n\n    case evlaNumOperation:\n      Fetch('/', 'POST', state.counter, operationSign.putFirst(operationSign.endValue(state.counter)));\n      GetRequest.getHistory().then(data => ({\n        addHistory: state.addHistory.push(...data)\n      }));\n      return {\n        history: state.addHistory,\n        counter: operationSign.putFirst(operationSign.endValue(state.counter))\n      };\n\n    default:\n      return state;\n  }\n\n  return 0;\n};\n\nexport default numReducer;","map":{"version":3,"sources":["D:/github/my-calc/client/src/redux/numReducer.js"],"names":["acNumOperation","delplyNumOperation","evlaNumOperation","minusplyNumOperation","multiplyNumOperation","plusminNumOperation","plusNumOperation","pointNumOperation","procentNumOperation","Fetch","GetRequest","OperationSign","retObjType","initialState","addHistory","history","counter","numReducer","state","action","operationSign","type","value","putAway","length","slice","putFirst","endValue","getHistory","then","data","push"],"mappings":"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","sourcesContent":["import {\n  acNumOperation,\n  delplyNumOperation,\n  evlaNumOperation,\n  minusplyNumOperation,\n  multiplyNumOperation,\n  plusminNumOperation,\n  plusNumOperation,\n  pointNumOperation,\n  procentNumOperation,\n} from '../actions/actions'\nimport Fetch from '../scripts/dataFetch'\nimport GetRequest from '../scripts/GetRequest'\nimport OperationSign from '../scripts/PutAway'\nimport retObjType from '../scripts/valuesNumOperation'\n\nconst initialState = {\n  addHistory: [],\n  history: [],\n  counter: '',\n}\n\nconst numReducer = (state = initialState, action) => {\n  const operationSign = new OperationSign()\n  switch (action.type) {\n    case retObjType(action.type)().type:\n      return {\n        ...state,\n        addHistory: [],\n          counter: `${state.counter}${retObjType(action.type)().value}`,\n      }\n      case plusNumOperation:\n        return {\n          ...state,\n          addHistory: [],\n            counter: `${operationSign.putAway(state.counter)}+`,\n        }\n        case acNumOperation:\n          return {\n            ...state,\n            addHistory: [],\n              counter: '',\n          }\n          case multiplyNumOperation:\n            return {\n              ...state,\n              addHistory: [],\n                counter: `${operationSign.putAway(state.counter)}*`,\n            }\n            case minusplyNumOperation:\n              return {\n                ...state,\n                addHistory: [],\n                  counter: `${operationSign.putAway(state.counter)}-`,\n              }\n              case delplyNumOperation:\n                return {\n                  ...state,\n                  addHistory: [],\n                    counter: `${operationSign.putAway(state.counter)}/`,\n                }\n                case pointNumOperation:\n                  return {\n                    ...state,\n                    addHistory: [],\n                      counter: `${operationSign.putAway(state.counter)}.`,\n                  }\n                  case procentNumOperation:\n                    return {\n                      ...state,\n                      addHistory: [],\n                        counter: `${operationSign.putAway(state.counter)}%`,\n                    }\n                    case plusminNumOperation:\n                      if (state.counter[state.counter.length - 1] === '+') {\n                        return {\n                          ...state,\n                          addHistory: [],\n                          counter: `${state.counter.slice(0, state.counter.length - 1)}-`,\n                        }\n                      }\n                      if (state.counter[state.counter.length - 1] === '-') {\n                        return {\n                          ...state,\n                          addHistory: [],\n                          counter: `${state.counter.slice(0, state.counter.length - 1)}+`,\n                        }\n                      }\n                      break\n                    case evlaNumOperation:\n                      Fetch('/', 'POST', state.counter, operationSign.putFirst(operationSign.endValue(state.counter)))\n                      GetRequest.getHistory().then((data) => ({\n                        addHistory: state.addHistory.push(...data)\n                      }))\n                      return {\n                        history: state.addHistory,\n                          counter: operationSign.putFirst(operationSign.endValue(state.counter)),\n                      }\n                      default:\n                        return state\n  }\n  return 0\n}\n\nexport default numReducer"]},"metadata":{},"sourceType":"module"}