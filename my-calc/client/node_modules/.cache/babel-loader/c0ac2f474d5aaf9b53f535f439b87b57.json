{"ast":null,"code":"import { makeAutoObservable } from 'mobx';\nimport { forbiddenFirstCharacter, forbiddenLastCharacter, replacementSign } from '../helpers/changesOperationsMath';\nimport deleteRequest from '../api/apiDeletehistory';\nimport updateHistory from '../helpers/updateHistory';\nimport getHistoryApi from '../api/apiResendHistory';\nimport saveData from '../api/apiSaveHistory';\n\nclass HistoryStore {\n  constructor() {\n    this.history = [];\n\n    this.deleteHistoryApi = (expression, result, index) => {\n      deleteRequest(expression, result).then(() => {\n        this.history = updateHistory(this.history, index);\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n\n    this.showNewHistory = () => {\n      getHistoryApi().then(value => {\n        this.history = value.data;\n      });\n    };\n\n    makeAutoObservable(this);\n  }\n\n}\n\nexport default new HistoryStore();","map":{"version":3,"sources":["D:/github/calc/calc-react-redux/my-calc/client/src/store/historyStore.js"],"names":["makeAutoObservable","forbiddenFirstCharacter","forbiddenLastCharacter","replacementSign","deleteRequest","updateHistory","getHistoryApi","saveData","HistoryStore","constructor","history","deleteHistoryApi","expression","result","index","then","catch","error","console","log","showNewHistory","value","data"],"mappings":"AAAA,SAAQA,kBAAR,QAAiC,MAAjC;AACA,SAASC,uBAAT,EAAkCC,sBAAlC,EAA0DC,eAA1D,QAAiF,kCAAjF;AACA,OAAOC,aAAP,MAA0B,yBAA1B;AACA,OAAOC,aAAP,MAA0B,0BAA1B;AACA,OAAOC,aAAP,MAA0B,yBAA1B;AACA,OAAOC,QAAP,MAAqB,uBAArB;;AAEA,MAAMC,YAAN,CAAmB;AAGjBC,EAAAA,WAAW,GAAG;AAAA,SAFdC,OAEc,GAFJ,EAEI;;AAAA,SAIdC,gBAJc,GAIK,CAACC,UAAD,EAAaC,MAAb,EAAqBC,KAArB,KAA+B;AAChDV,MAAAA,aAAa,CAACQ,UAAD,EAAaC,MAAb,CAAb,CACGE,IADH,CACQ,MAAM;AACV,aAAKL,OAAL,GAAeL,aAAa,CAAC,KAAKK,OAAN,EAAeI,KAAf,CAA5B;AACD,OAHH,EAIGE,KAJH,CAIUC,KAAD,IAAW;AAChBC,QAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACD,OANH;AAOD,KAZa;;AAAA,SAcdG,cAdc,GAcG,MAAM;AACrBd,MAAAA,aAAa,GACVS,IADH,CACSM,KAAD,IAAW;AACf,aAAKX,OAAL,GAAeW,KAAK,CAACC,IAArB;AACD,OAHH;AAID,KAnBa;;AACZtB,IAAAA,kBAAkB,CAAC,IAAD,CAAlB;AACD;;AALgB;;AAyBnB,eAAe,IAAIQ,YAAJ,EAAf","sourcesContent":["import {makeAutoObservable} from 'mobx'\r\nimport { forbiddenFirstCharacter, forbiddenLastCharacter, replacementSign } from '../helpers/changesOperationsMath'\r\nimport deleteRequest from '../api/apiDeletehistory'\r\nimport updateHistory from '../helpers/updateHistory'\r\nimport getHistoryApi from '../api/apiResendHistory'\r\nimport saveData from '../api/apiSaveHistory'\r\n\r\nclass HistoryStore {\r\n  history = []\r\n\r\n  constructor() {\r\n    makeAutoObservable(this)\r\n  }\r\n\r\n  deleteHistoryApi = (expression, result, index) => {\r\n    deleteRequest(expression, result)\r\n      .then(() => {\r\n        this.history = updateHistory(this.history, index)\r\n      })\r\n      .catch((error) => {\r\n        console.log(error)\r\n      })\r\n  }\r\n\r\n  showNewHistory = () => {\r\n    getHistoryApi()\r\n      .then((value) => {\r\n        this.history = value.data\r\n      })\r\n  }\r\n}\r\n\r\nexport default new HistoryStore()"]},"metadata":{},"sourceType":"module"}